{"name":"EmptyBouncedTester","code":"te6ccgECBQEAARIAA+7/ACCPaTDtou37AdBy1yHSANIA+kAhEDRQZm8E+GEC+GLtRNDSAAGU1AHQMZowi3dW5rbm93bo4jABkTDgINdJwh/jAPkBgvBDqNSaVeGLVfLzmVinbFEnJ4uaLN6C4nTSYSCX/cO6RLrjAvLAguH0pBP0vPLICwECAwCq0x8BghB/nh8Juo5I+kDUWTJ/WIIRKgXyAAFwUDRtA21QI8jPhYDKAM+EQM4B+gKAac9AAlxuAW6ok1vPgZ1Yz4aAz4SA9AD0AM+B4vQAyQH7ANsx4AAyi3dW5rbm93boyH8BygAByAHPFskBzMntVAE7pk0Y+1E0NIAAZTUAdAxmjCLd1bmtub3duji2zwxgBAACIA==","abi":"{\"name\":\"EmptyBouncedTester\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Message\",\"header\":100,\"fields\":[{\"name\":\"msg\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"Empty\",\"header\":101,\"fields\":[]},{\"name\":\"BinaryIntOperation\",\"header\":829886522,\"fields\":[{\"name\":\"op\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"val1\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"val2\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"BinaryIntResult\",\"header\":4234356752,\"fields\":[{\"name\":\"val\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SendCellToAddress\",\"header\":2141069065,\"fields\":[{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Calculator$Data\",\"header\":null,\"fields\":[]},{\"name\":\"ReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiverKind\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"NoReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"StringReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"BinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"SliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndStringReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndStringReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"StringAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"StringAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"BinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentAndStringReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndStringAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndStringAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndBinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndStringAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndStringAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndBinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"StringAndBinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentAndStringAndBinaryReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentAndStringAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndCommentAndBinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyAndStringAndBinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"CommentAndStringAndBinaryAndSliceReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"AllReceiverTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"EmptyBouncedTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"BinaryBouncedTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"SliceBouncedTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]},{\"name\":\"AllBouncedTester$Data\",\"header\":null,\"fields\":[{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"SendCellToAddress\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"reset\"}}],\"getters\":[{\"name\":\"receiver\",\"methodId\":78947,\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"48163\":{\"message\":\"Only divisions are currently supported.\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\"]}","init":{"kind":"direct","args":[],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"e2e-emulated/contracts/receiver-precedence.tact":"bWVzc2FnZSgxMDApIE1lc3NhZ2UgewogICAgbXNnOiBTdHJpbmc7Cn0KCm1lc3NhZ2UoMTAxKSBFbXB0eSB7IH0KCm1lc3NhZ2UgQmluYXJ5SW50T3BlcmF0aW9uIHsKICAgIG9wOiBTdHJpbmc7CiAgICB2YWwxOiBJbnQ7CiAgICB2YWwyOiBJbnQ7Cn0KCm1lc3NhZ2UgQmluYXJ5SW50UmVzdWx0IHsKICAgIHZhbDogSW50Owp9CgptZXNzYWdlIFNlbmRDZWxsVG9BZGRyZXNzIHsKICAgIGFkZHJlc3M6IEFkZHJlc3M7CiAgICBib2R5OiBDZWxsOwp9CgovLyBUaGlzIGNvbnRyYWN0IHJlY2VpdmVzIGJpbmFyeSBhcml0aG1ldGljIHJlcXVlc3RzLgovLyBJdCBvbmx5IHN1cHBvcnRzIGRpdmlzaW9ucy4KY29udHJhY3QgQ2FsY3VsYXRvciB7CgogICAgcmVjZWl2ZSgiZGVwbG95Iikge30KCiAgICByZWNlaXZlKHJlcXVlc3Q6IEJpbmFyeUludE9wZXJhdGlvbikgewogICAgICAgIHJlcXVpcmUocmVxdWVzdC5vcCA9PSAiLyIsICJPbmx5IGRpdmlzaW9ucyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZC4iKTsKICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdC52YWwxIC8gcmVxdWVzdC52YWwyOwogICAgICAgIG1lc3NhZ2UoTWVzc2FnZVBhcmFtZXRlcnN7CiAgICAgICAgICAgIHRvOiBzZW5kZXIoKSwKICAgICAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICAgICAgdmFsdWU6IHRvbigiMSIpLAogICAgICAgICAgICBib2R5OiBCaW5hcnlJbnRSZXN1bHR7dmFsOiByZXN1bHR9LnRvQ2VsbCgpLCAKICAgICAgICAgICAgfSk7CiAgICB9Cn0KCmNvbnRyYWN0IFJlY2VpdmVyVGVzdGVyIHsKCiAgICByZWNlaXZlcktpbmQ6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXJLaW5kID0gImVtcHR5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgaWYgKG1zZyA9PSAibWVzc2FnZSIpIHsKICAgICAgICAgICAgc2VsZi5yZWNlaXZlcktpbmQgPSAiZXJyb3JfY29tbWVudCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VsZi5yZWNlaXZlcktpbmQgPSAiY29tbWVudF9mYWxsYmFjayI7CiAgICAgICAgfQogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlcktpbmQgPSAiYmluYXJ5X21lc3NhZ2UiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIC8vIERyb3AgdGhlIG9wIGNvZGUKICAgICAgICBtc2cubG9hZFVpbnQoMzIpOyAKICAgICAgICBsZXQgbSA9IG1zZy5hc1N0cmluZygpOwogICAgICAgIGlmIChtID09ICJtZXNzYWdlIikgewogICAgICAgICAgICBzZWxmLnJlY2VpdmVyS2luZCA9ICJtZXNzYWdlX3NsaWNlIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLnJlY2VpdmVyS2luZCA9ICJmYWxsYmFjayI7CiAgICAgICAgfQogICAgfQoKICAgIHJlY2VpdmUoIm1lc3NhZ2UiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlcktpbmQgPSAiY29tbWVudCI7CiAgICB9CgogICAgLy8gQm91bmNlZCB0ZXN0aW5nCgogICAgLy8gSW5pdGlhdGUgYSByZXF1ZXN0IHRvIHRoZSBjYWxjdWxhdG9yLCB3aXRoIGFuIHVuc3VwcG9ydGVkIGFyaXRobWV0aWMgb3BlcmF0aW9uOiAxICsgMQogICAgcmVjZWl2ZSgiZG9fdW5zdXBwb3J0ZWRfb3AiKSB7CiAgICAgICAgbGV0IGFkZHIgPSBjb250cmFjdEFkZHJlc3MoaW5pdE9mIENhbGN1bGF0b3IoKSk7CiAgICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhZGRyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IHRvbigiMSIpLAogICAgICAgICAgICAgICAgYm9keTogQmluYXJ5SW50T3BlcmF0aW9ue29wOiAiKyIsIHZhbDE6IDEsIHZhbDI6IDF9LnRvQ2VsbCgpLAogICAgICAgICAgICAgICAgfSk7CiAgICB9CgogICAgLy8gSW5pdGlhdGUgYSByZXF1ZXN0IHRvIHRoZSBjYWxjdWxhdG9yLCB3aXRoIGEgZGl2aXNpb24gYnkgemVybzogMTAvMAogICAgcmVjZWl2ZSgiZG9fZGl2X2J5X3plcm8iKSB7CiAgICAgICAgbGV0IGFkZHIgPSBjb250cmFjdEFkZHJlc3MoaW5pdE9mIENhbGN1bGF0b3IoKSk7CiAgICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhZGRyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IHRvbigiMSIpLAogICAgICAgICAgICAgICAgYm9keTogQmluYXJ5SW50T3BlcmF0aW9ue29wOiAiLyIsIHZhbDE6IDEwLCB2YWwyOiAwfS50b0NlbGwoKSwKICAgICAgICAgICAgICAgIH0pOwogICAgfQoKICAgIC8vIEluaXRpYXRlIGEgcmVxdWVzdCB0byB0aGUgY2FsY3VsYXRvcjogMTAvMgogICAgcmVjZWl2ZSgiZG9fc3VjY2Vzc19kaXYiKSB7CiAgICAgICAgbGV0IGFkZHIgPSBjb250cmFjdEFkZHJlc3MoaW5pdE9mIENhbGN1bGF0b3IoKSk7CiAgICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhZGRyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IHRvbigiMSIpLAogICAgICAgICAgICAgICAgYm9keTogQmluYXJ5SW50T3BlcmF0aW9ue29wOiAiLyIsIHZhbDE6IDEwLCB2YWwyOiAyfS50b0NlbGwoKSwKICAgICAgICAgICAgICAgIH0pOwogICAgfQoKICAgIC8vIEluaXRpYXRlIGEgbm9uLWFyaXRobWV0aWMgcmVxdWVzdCB0byB0aGUgY2FsY3VsYXRvci4KICAgIC8vIFRoZSBjYWxjdWxhdG9yIHdpbGwgcmVqZWN0IHRoZSByZXF1ZXN0CiAgICByZWNlaXZlKCJkb191bmtub3duX3JlcXVlc3QiKSB7CiAgICAgICAgbGV0IGFkZHIgPSBjb250cmFjdEFkZHJlc3MoaW5pdE9mIENhbGN1bGF0b3IoKSk7CiAgICAgICAgbWVzc2FnZShNZXNzYWdlUGFyYW1ldGVyc3sKICAgICAgICAgICAgICAgIHRvOiBhZGRyLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IHRvbigiMSIpLAogICAgICAgICAgICAgICAgYm9keTogImRvX3NvbWV0aGluZyIuYXNDb21tZW50KCksCiAgICAgICAgICAgICAgICB9KTsKICAgIH0KCiAgICBib3VuY2VkKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyS2luZCA9ICJib3VuY2VkX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBib3VuY2VkKG1zZzogYm91bmNlZDxCaW5hcnlJbnRPcGVyYXRpb24+KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlcktpbmQgPSAiYm91bmNlZF9iaW5hcnlfbWVzc2FnZSI7CiAgICB9CgogICAgLy8gRXh0ZXJuYWwgcmVjZWl2ZXIgdGVzdGluZwoKICAgIGV4dGVybmFsKG1zZzogU3RyaW5nKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIGlmIChtc2cgPT0gIm1lc3NhZ2UiKSB7CiAgICAgICAgICAgIHNlbGYucmVjZWl2ZXJLaW5kID0gImV4dGVybmFsX2Vycm9yX2NvbW1lbnQiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlbGYucmVjZWl2ZXJLaW5kID0gImV4dGVybmFsX2NvbW1lbnRfZmFsbGJhY2siOwogICAgICAgIH0KICAgIH0KICAgIAogICAgZXh0ZXJuYWwoKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXJLaW5kID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlcktpbmQgPSAiZXh0ZXJuYWxfY29tbWVudCI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXJLaW5kID0gImV4dGVybmFsX2JpbmFyeV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIC8vIERyb3AgdGhlIG9wIGNvZGUKICAgICAgICBtc2cubG9hZFVpbnQoMzIpOyAKICAgICAgICBsZXQgbSA9IG1zZy5hc1N0cmluZygpOwogICAgICAgIGlmIChtID09ICJtZXNzYWdlIikgewogICAgICAgICAgICBzZWxmLnJlY2VpdmVyS2luZCA9ICJleHRlcm5hbF9tZXNzYWdlX3NsaWNlIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWxmLnJlY2VpdmVyS2luZCA9ICJleHRlcm5hbF9mYWxsYmFjayI7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEluaXRpYXRlIGEgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIGFkZHJlc3Mgd2l0aCB0aGUgc3BlY2lmaWVkIGNlbGwgYXMgbWVzc2FnZSBib2R5CiAgICByZWNlaXZlKG1zZzogU2VuZENlbGxUb0FkZHJlc3MpIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzIHsKICAgICAgICAgICAgICAgIHRvOiBtc2cuYWRkcmVzcywKICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgICAgICAgICB2YWx1ZTogdG9uKCI1IiksCiAgICAgICAgICAgICAgICBib2R5OiBtc2cuYm9keSwKICAgICAgICAgICAgICAgIH0pOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXJLaW5kKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXJLaW5kOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGRvZXMgbm90IHByb2Nlc3MgbWVzc2FnZXMgKG5vIHJlY2VpdmVyIG9mIGFueSBraW5kKQpjb250cmFjdCBOb1JlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IG9ubHkgcHJvY2Vzc2VzIGVtcHR5IG1lc3NhZ2VzCmNvbnRyYWN0IEVtcHR5UmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZW1wdHkiOwogICAgfQoKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3Qgb25seSBwcm9jZXNzZXMgbWVzc2FnZXMgd2l0aCBhIHNwZWNpZmljIGNvbW1lbnQKY29udHJhY3QgQ29tbWVudFJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgibWVzc2FnZSIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImNvbW1lbnQiOwogICAgfQogICAgCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3Qgb25seSBwcm9jZXNzZXMgbWVzc2FnZXMgd2l0aCBzdHJpbmdzIChpLmUuLCBhbnkgY29tbWVudCkKY29udHJhY3QgU3RyaW5nUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQogICAgCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IG9ubHkgaGFzIHRoZSBiaW5hcnkgbWVzc2FnZSByZWNlaXZlcnMKY29udHJhY3QgQmluYXJ5UmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKG1zZzogTWVzc2FnZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogRW1wdHkpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IEVtcHR5KSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQogICAgCiAgICBleHRlcm5hbChtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnkiOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBvbmx5IGhhcyB0aGUgZmFsbGJhY2sgcmVjZWl2ZXIgCmNvbnRyYWN0IFNsaWNlUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBlbXB0eSBhbmQgc3BlY2lmaWMgY29tbWVudCByZWNlaXZlcnMKY29udHJhY3QgRW1wdHlBbmRDb21tZW50UmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZW1wdHkiOwogICAgfQoKICAgIHJlY2VpdmUoIm1lc3NhZ2UiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJjb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbCgpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9lbXB0eSI7CiAgICB9CgogICAgZXh0ZXJuYWwoIm1lc3NhZ2UiKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfY29tbWVudCI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHkgYW5kIGZhbGxiYWNrIHN0cmluZyByZWNlaXZlcnMgCmNvbnRyYWN0IEVtcHR5QW5kU3RyaW5nUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZW1wdHkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTdHJpbmcpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrX3N0cmluZyI7CiAgICB9CiAgICAKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHkgYW5kIGJpbmFyeSBtZXNzYWdlIHJlY2VpdmVycyAKY29udHJhY3QgRW1wdHlBbmRCaW5hcnlSZWNlaXZlclRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIHJlY2VpdmUoKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJlbXB0eSI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeSI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEVtcHR5KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBFbXB0eSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KICAgIAogICAgZXh0ZXJuYWwoKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZW1wdHkiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogTWVzc2FnZSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeSI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHkgYW5kIGZhbGxiYWNrIHJlY2VpdmVycyAKY29udHJhY3QgRW1wdHlBbmRTbGljZVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImVtcHR5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrIjsKICAgIH0KICAgIAogICAgZXh0ZXJuYWwoKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZW1wdHkiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU2xpY2UpIHsKICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2siOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBoYXMgdGhlIHNwZWNpZmljIGNvbW1lbnQgYW5kIGZhbGxiYWNrIHN0cmluZyByZWNlaXZlcnMgCmNvbnRyYWN0IENvbW1lbnRBbmRTdHJpbmdSZWNlaXZlclRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIHJlY2VpdmUoIm1lc3NhZ2UiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJjb21tZW50IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQogICAgCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgc3BlY2lmaWMgY29tbWVudCBhbmQgYmluYXJ5IG1lc3NhZ2UgcmVjZWl2ZXJzIApjb250cmFjdCBDb21tZW50QW5kQmluYXJ5UmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCJtZXNzYWdlIikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiY29tbWVudCI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeSI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEVtcHR5KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBFbXB0eSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KICAgIAogICAgZXh0ZXJuYWwoIm1lc3NhZ2UiKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfY29tbWVudCI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBzcGVjaWZpYyBjb21tZW50IGFuZCBmYWxsYmFjayByZWNlaXZlcnMgCmNvbnRyYWN0IENvbW1lbnRBbmRTbGljZVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgibWVzc2FnZSIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImNvbW1lbnQiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIGV4dGVybmFsKCJtZXNzYWdlIikgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2NvbW1lbnQiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU2xpY2UpIHsKICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2siOwogICAgfQogICAgCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBmYWxsYmFjayBzdHJpbmcgYW5kIGJpbmFyeSBtZXNzYWdlIHJlY2VpdmVycyAKY29udHJhY3QgU3RyaW5nQW5kQmluYXJ5UmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQogICAgCiAgICByZWNlaXZlKG1zZzogTWVzc2FnZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogRW1wdHkpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IEVtcHR5KSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQogICAgCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CiAgICAKICAgIGV4dGVybmFsKG1zZzogTWVzc2FnZSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeSI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZmFsbGJhY2sgc3RyaW5nIGFuZCBmYWxsYmFjayByZWNlaXZlcnMgCmNvbnRyYWN0IFN0cmluZ0FuZFNsaWNlUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQogICAgCiAgICByZWNlaXZlKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrIjsKICAgIH0KICAgIAogICAgZXh0ZXJuYWwobXNnOiBTdHJpbmcpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU2xpY2UpIHsKICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2siOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBoYXMgdGhlIGJpbmFyeSBtZXNzYWdlIGFuZCBmYWxsYmFjayByZWNlaXZlcnMgCmNvbnRyYWN0IEJpbmFyeUFuZFNsaWNlUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKICAgIAogICAgcmVjZWl2ZShtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeSI7CiAgICB9CiAgICAKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBlbXB0eSwgc3BlY2lmaWMgY29tbWVudCBhbmQgZmFsbGJhY2sgc3RyaW5nIHJlY2VpdmVycyAKY29udHJhY3QgRW1wdHlBbmRDb21tZW50QW5kU3RyaW5nUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZW1wdHkiOwogICAgfQoKICAgIHJlY2VpdmUoIm1lc3NhZ2UiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJjb21tZW50IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHksIHNwZWNpZmljIGNvbW1lbnQgYW5kIGJpbmFyeSBzdHJpbmcgcmVjZWl2ZXJzIApjb250cmFjdCBFbXB0eUFuZENvbW1lbnRBbmRCaW5hcnlSZWNlaXZlclRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIHJlY2VpdmUoKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJlbXB0eSI7CiAgICB9CgogICAgcmVjZWl2ZSgibWVzc2FnZSIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImNvbW1lbnQiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwoKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZW1wdHkiOwogICAgfQoKICAgIGV4dGVybmFsKCJtZXNzYWdlIikgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2NvbW1lbnQiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogTWVzc2FnZSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeSI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHksIHNwZWNpZmljIGNvbW1lbnQgYW5kIGZhbGxiYWNrIHJlY2VpdmVycyAKY29udHJhY3QgRW1wdHlBbmRDb21tZW50QW5kU2xpY2VSZWNlaXZlclRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIHJlY2VpdmUoKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJlbXB0eSI7CiAgICB9CgogICAgcmVjZWl2ZSgibWVzc2FnZSIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImNvbW1lbnQiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBlbXB0eSwgZmFsbGJhY2sgc3RyaW5nIGFuZCBiaW5hcnkgcmVjZWl2ZXJzIApjb250cmFjdCBFbXB0eUFuZFN0cmluZ0FuZEJpbmFyeVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImVtcHR5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CiAgICAKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBlbXB0eSwgZmFsbGJhY2sgc3RyaW5nIGFuZCBmYWxsYmFjayByZWNlaXZlcnMgCmNvbnRyYWN0IEVtcHR5QW5kU3RyaW5nQW5kU2xpY2VSZWNlaXZlclRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIHJlY2VpdmUoKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJlbXB0eSI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFN0cmluZykgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrIjsKICAgIH0KCiAgICBleHRlcm5hbCgpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9lbXB0eSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTdHJpbmcpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU2xpY2UpIHsKICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2siOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBoYXMgdGhlIGVtcHR5LCBiaW5hcnkgYW5kIGZhbGxiYWNrIHJlY2VpdmVycwpjb250cmFjdCBFbXB0eUFuZEJpbmFyeUFuZFNsaWNlUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZW1wdHkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CiAgICAKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnkiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU2xpY2UpIHsKICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2siOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBoYXMgdGhlIHNwZWNpZmljIGNvbW1lbnQsIHN0cmluZyBhbmQgYmluYXJ5IHJlY2VpdmVycwpjb250cmFjdCBDb21tZW50QW5kU3RyaW5nQW5kQmluYXJ5UmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCJtZXNzYWdlIikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiY29tbWVudCI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFN0cmluZykgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogTWVzc2FnZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogRW1wdHkpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IEVtcHR5KSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKCJtZXNzYWdlIikgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2NvbW1lbnQiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU3RyaW5nKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnkiOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBoYXMgdGhlIHNwZWNpZmljIGNvbW1lbnQsIHN0cmluZyBhbmQgZmFsbGJhY2sgcmVjZWl2ZXJzCmNvbnRyYWN0IENvbW1lbnRBbmRTdHJpbmdBbmRTbGljZVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgibWVzc2FnZSIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImNvbW1lbnQiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTdHJpbmcpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFNsaWNlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFjayI7CiAgICB9CgogICAgZXh0ZXJuYWwoIm1lc3NhZ2UiKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfY29tbWVudCI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTdHJpbmcpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU2xpY2UpIHsKICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2siOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBoYXMgdGhlIHNwZWNpZmljIGNvbW1lbnQsIGJpbmFyeSBhbmQgZmFsbGJhY2sgcmVjZWl2ZXJzCmNvbnRyYWN0IENvbW1lbnRBbmRCaW5hcnlBbmRTbGljZVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgibWVzc2FnZSIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImNvbW1lbnQiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwoIm1lc3NhZ2UiKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfY29tbWVudCI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBzdHJpbmcsIGJpbmFyeSBhbmQgZmFsbGJhY2sgcmVjZWl2ZXJzCmNvbnRyYWN0IFN0cmluZ0FuZEJpbmFyeUFuZFNsaWNlUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnkiOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTdHJpbmcpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogTWVzc2FnZSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTbGljZSkgewogICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFjayI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHksIHNwZWNpZmljIGNvbW1lbnQsIGZhbGxiYWNrIHN0cmluZywgYW5kIGJpbmFyeSByZWNlaXZlcnMgCmNvbnRyYWN0IEVtcHR5QW5kQ29tbWVudEFuZFN0cmluZ0FuZEJpbmFyeVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImVtcHR5IjsKICAgIH0KCiAgICByZWNlaXZlKCJtZXNzYWdlIikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiY29tbWVudCI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFN0cmluZykgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogTWVzc2FnZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogRW1wdHkpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IEVtcHR5KSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBlbXB0eSwgc3BlY2lmaWMgY29tbWVudCwgZmFsbGJhY2sgc3RyaW5nLCBhbmQgZmFsbGJhY2sgcmVjZWl2ZXJzIApjb250cmFjdCBFbXB0eUFuZENvbW1lbnRBbmRTdHJpbmdBbmRTbGljZVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImVtcHR5IjsKICAgIH0KCiAgICByZWNlaXZlKCJtZXNzYWdlIikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiY29tbWVudCI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFN0cmluZykgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KICAgIAogICAgcmVjZWl2ZShtc2c6IFNsaWNlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFjayI7CiAgICB9CgogICAgZXh0ZXJuYWwoKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZW1wdHkiOwogICAgfQoKICAgIGV4dGVybmFsKCJtZXNzYWdlIikgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2NvbW1lbnQiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogU3RyaW5nKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIHRoZSBlbXB0eSwgc3BlY2lmaWMgY29tbWVudCwgYmluYXJ5LCBhbmQgZmFsbGJhY2sgcmVjZWl2ZXJzIApjb250cmFjdCBFbXB0eUFuZENvbW1lbnRBbmRCaW5hcnlBbmRTbGljZVJlY2VpdmVyVGVzdGVyIHsKICAgIHJlY2VpdmVyOiBTdHJpbmcgPSAidW5rbm93biI7CgogICAgcmVjZWl2ZSgpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImVtcHR5IjsKICAgIH0KCiAgICByZWNlaXZlKCJtZXNzYWdlIikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiY29tbWVudCI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IE1lc3NhZ2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeSI7CiAgICB9CiAgICAKICAgIHJlY2VpdmUobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2siOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBFbXB0eSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogRW1wdHkpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9iaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwoKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfZW1wdHkiOwogICAgfQoKICAgIGV4dGVybmFsKCJtZXNzYWdlIikgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2NvbW1lbnQiOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogTWVzc2FnZSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTbGljZSkgewogICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFjayI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgZW1wdHksIHN0cmluZywgYmluYXJ5IGFuZCBmYWxsYmFjayByZWNlaXZlcnMgCmNvbnRyYWN0IEVtcHR5QW5kU3RyaW5nQW5kQmluYXJ5QW5kU2xpY2VSZWNlaXZlclRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIHJlY2VpdmUoKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJlbXB0eSI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFN0cmluZykgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogTWVzc2FnZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5IjsKICAgIH0KICAgIAogICAgcmVjZWl2ZShtc2c6IFNsaWNlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFjayI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEVtcHR5KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBFbXB0eSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbCgpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9lbXB0eSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTdHJpbmcpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIGV4dGVybmFsKG1zZzogTWVzc2FnZSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBTbGljZSkgewogICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9mYWxsYmFjayI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IGhhcyB0aGUgc3BlY2lmaWMgY29tbWVudCwgc3RyaW5nLCBiaW5hcnkgYW5kIGZhbGxiYWNrIHJlY2VpdmVycyAKY29udHJhY3QgQ29tbWVudEFuZFN0cmluZ0FuZEJpbmFyeUFuZFNsaWNlUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCJtZXNzYWdlIikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiY29tbWVudCI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IFN0cmluZykgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZmFsbGJhY2tfc3RyaW5nIjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogTWVzc2FnZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYmluYXJ5IjsKICAgIH0KICAgIAogICAgcmVjZWl2ZShtc2c6IFNsaWNlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFjayI7CiAgICB9CgogICAgcmVjZWl2ZShtc2c6IEVtcHR5KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnlfZW1wdHlfbWVzc2FnZSI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBFbXB0eSkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2JpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgaGFzIGFsbCB0aGUgcmVjZWl2ZXIga2luZHMKY29udHJhY3QgQWxsUmVjZWl2ZXJUZXN0ZXIgewogICAgcmVjZWl2ZXI6IFN0cmluZyA9ICJ1bmtub3duIjsKCiAgICByZWNlaXZlKCkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZW1wdHkiOwogICAgfQoKICAgIHJlY2VpdmUoIm1lc3NhZ2UiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJjb21tZW50IjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJmYWxsYmFja19zdHJpbmciOwogICAgfQoKICAgIHJlY2VpdmUobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJiaW5hcnkiOwogICAgfQogICAgCiAgICByZWNlaXZlKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImZhbGxiYWNrIjsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogRW1wdHkpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJpbmFyeV9lbXB0eV9tZXNzYWdlIjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IEVtcHR5KSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5X2VtcHR5X21lc3NhZ2UiOwogICAgfQoKICAgIGV4dGVybmFsKCkgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2VtcHR5IjsKICAgIH0KCiAgICBleHRlcm5hbCgibWVzc2FnZSIpIHsKICAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJleHRlcm5hbF9jb21tZW50IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFN0cmluZykgewogICAgICAgIGFjY2VwdE1lc3NhZ2UoKTsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrX3N0cmluZyI7CiAgICB9CgogICAgZXh0ZXJuYWwobXNnOiBNZXNzYWdlKSB7CiAgICAgICAgYWNjZXB0TWVzc2FnZSgpOwogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiZXh0ZXJuYWxfYmluYXJ5IjsKICAgIH0KCiAgICBleHRlcm5hbChtc2c6IFNsaWNlKSB7CiAgICAgICBhY2NlcHRNZXNzYWdlKCk7CiAgICAgICBzZWxmLnJlY2VpdmVyID0gImV4dGVybmFsX2ZhbGxiYWNrIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3QgZG9lcyBub3QgcHJvY2VzcyBib3VuY2VkIG1lc3NhZ2VzCmNvbnRyYWN0IEVtcHR5Qm91bmNlZFRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIC8vIEluaXRpYXRlIGEgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIGFkZHJlc3Mgd2l0aCB0aGUgc3BlY2lmaWVkIGNlbGwgYXMgbWVzc2FnZSBib2R5CiAgICByZWNlaXZlKG1zZzogU2VuZENlbGxUb0FkZHJlc3MpIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzIHsKICAgICAgICAgICAgICAgIHRvOiBtc2cuYWRkcmVzcywKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiB0b24oIjUiKSwKICAgICAgICAgICAgICAgIGJvZHk6IG1zZy5ib2R5LAogICAgICAgICAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZSgicmVzZXQiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJ1bmtub3duIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCi8vIFRoaXMgY29udHJhY3Qgb25seSBwcm9jZXNzZXMgYmluYXJ5IGJvdW5jZWQgbWVzc2FnZXMKY29udHJhY3QgQmluYXJ5Qm91bmNlZFRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIGJvdW5jZWQobXNnOiBib3VuY2VkPE1lc3NhZ2U+KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJib3VuY2VkX2JpbmFyeSIKICAgIH0KCiAgICBib3VuY2VkKG1zZzogRW1wdHkpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJvdW5jZWRfYmluYXJ5X2VtcHR5X21lc3NhZ2UiCiAgICB9CgogICAgLy8gSW5pdGlhdGUgYSByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgYWRkcmVzcyB3aXRoIHRoZSBzcGVjaWZpZWQgY2VsbCBhcyBtZXNzYWdlIGJvZHkKICAgIHJlY2VpdmUobXNnOiBTZW5kQ2VsbFRvQWRkcmVzcykgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnMgewogICAgICAgICAgICAgICAgdG86IG1zZy5hZGRyZXNzLAogICAgICAgICAgICAgICAgYm91bmNlOiB0cnVlLAogICAgICAgICAgICAgICAgdmFsdWU6IHRvbigiNSIpLAogICAgICAgICAgICAgICAgYm9keTogbXNnLmJvZHksCiAgICAgICAgICAgICAgICB9KTsKICAgIH0KCiAgICByZWNlaXZlKCJyZXNldCIpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gInVua25vd24iOwogICAgfQoKICAgIGdldCBmdW4gcmVjZWl2ZXIoKTogU3RyaW5nIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWNlaXZlcjsKICAgIH0KfQoKLy8gVGhpcyBjb250cmFjdCBvbmx5IHByb2Nlc3NlcyBzbGljZSBib3VuY2VkIG1lc3NhZ2VzCmNvbnRyYWN0IFNsaWNlQm91bmNlZFRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIGJvdW5jZWQobXNnOiBTbGljZSkgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAiYm91bmNlZF9mYWxsYmFjayIKICAgIH0KCiAgICAvLyBJbml0aWF0ZSBhIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCBhZGRyZXNzIHdpdGggdGhlIHNwZWNpZmllZCBjZWxsIGFzIG1lc3NhZ2UgYm9keQogICAgcmVjZWl2ZShtc2c6IFNlbmRDZWxsVG9BZGRyZXNzKSB7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVycyB7CiAgICAgICAgICAgICAgICB0bzogbXNnLmFkZHJlc3MsCiAgICAgICAgICAgICAgICBib3VuY2U6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogdG9uKCI1IiksCiAgICAgICAgICAgICAgICBib2R5OiBtc2cuYm9keSwKICAgICAgICAgICAgICAgIH0pOwogICAgfQoKICAgIHJlY2VpdmUoInJlc2V0IikgewogICAgICAgIHNlbGYucmVjZWl2ZXIgPSAidW5rbm93biI7CiAgICB9CgogICAgZ2V0IGZ1biByZWNlaXZlcigpOiBTdHJpbmcgewogICAgICAgIHJldHVybiBzZWxmLnJlY2VpdmVyOwogICAgfQp9CgovLyBUaGlzIGNvbnRyYWN0IHByb2Nlc3MgYWxsIGtpbmRzIG9mIGJvdW5jZWQgbWVzc2FnZXMKY29udHJhY3QgQWxsQm91bmNlZFRlc3RlciB7CiAgICByZWNlaXZlcjogU3RyaW5nID0gInVua25vd24iOwoKICAgIGJvdW5jZWQobXNnOiBib3VuY2VkPE1lc3NhZ2U+KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJib3VuY2VkX2JpbmFyeSIKICAgIH0KCiAgICBib3VuY2VkKG1zZzogU2xpY2UpIHsKICAgICAgICBzZWxmLnJlY2VpdmVyID0gImJvdW5jZWRfZmFsbGJhY2siCiAgICB9CgogICAgYm91bmNlZChtc2c6IEVtcHR5KSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJib3VuY2VkX2JpbmFyeV9lbXB0eV9tZXNzYWdlIgogICAgfQoKICAgIC8vIEluaXRpYXRlIGEgcmVxdWVzdCB0byB0aGUgc3BlY2lmaWVkIGFkZHJlc3Mgd2l0aCB0aGUgc3BlY2lmaWVkIGNlbGwgYXMgbWVzc2FnZSBib2R5CiAgICByZWNlaXZlKG1zZzogU2VuZENlbGxUb0FkZHJlc3MpIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzIHsKICAgICAgICAgICAgICAgIHRvOiBtc2cuYWRkcmVzcywKICAgICAgICAgICAgICAgIGJvdW5jZTogdHJ1ZSwKICAgICAgICAgICAgICAgIHZhbHVlOiB0b24oIjUiKSwKICAgICAgICAgICAgICAgIGJvZHk6IG1zZy5ib2R5LAogICAgICAgICAgICAgICAgfSk7CiAgICB9CgogICAgcmVjZWl2ZSgicmVzZXQiKSB7CiAgICAgICAgc2VsZi5yZWNlaXZlciA9ICJ1bmtub3duIjsKICAgIH0KCiAgICBnZXQgZnVuIHJlY2VpdmVyKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYucmVjZWl2ZXI7CiAgICB9Cn0KCg=="},"compiler":{"name":"tact","version":"invalid","parameters":"{\"entrypoint\":\"e2e-emulated/contracts/receiver-precedence.tact\",\"options\":{\"debug\":true,\"external\":true}}"}}